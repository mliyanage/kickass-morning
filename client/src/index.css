@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Force scrollbar to always be visible to prevent layout shifts */
    overflow-y: scroll;
  }

  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased text-foreground;
    /* Beautiful gradient background inspired by the design */
    background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 25%, #7fcdcd 75%, #6bb6d6 100%);
    min-height: 100vh;
    /* Prevent horizontal scrollbar */
    overflow-x: hidden;
    /* Add padding-right equal to scrollbar width to prevent content shift */
    padding-right: calc(100vw - 100%);
  }

  /* Improve scrollbar appearance */
  ::-webkit-scrollbar {
    width: 10px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Smooth transitions for page loading states */
  .login-page {
    transition: opacity 0.3s ease-in-out;
  }

  .auth-in-progress .login-page {
    opacity: 0;
    pointer-events: none;
  }

  .auth-in-progress::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: white;
    z-index: 9999;
  }

  /* Global smooth transitions for all page elements */
  * {
    transition: opacity 0.2s ease, transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
  }

  /* Smooth page transitions */
  .page-enter {
    opacity: 0;
    transform: translateY(20px);
  }

  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  /* Fade-in-up animations for dashboard sections */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease forwards;
    opacity: 0;
  }

  /* Enhanced modal transitions */
  .modal-backdrop {
    backdrop-filter: blur(4px);
    transition: all 0.3s ease;
  }

  .modal-content {
    transform: translateY(20px);
    opacity: 0;
    transition: all 0.3s ease;
  }

  .modal-content.open {
    transform: translateY(0);
    opacity: 1;
  }

  .page-enter-active-old {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
  }

  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }

  .page-exit-active {
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 0.3s ease-in, transform 0.3s ease-in;
  }

  /* Enhanced focus states for better accessibility */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid theme('colors.primary.500');
    outline-offset: 2px;
    transition: outline 0.2s ease;
  }

  /* Smooth fade-in-up animation for dashboard sections */
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Smooth scale animation for hover states */
  @keyframes gentle-bounce {
    0%, 20%, 53%, 80%, 100% {
      transform: translate3d(0,0,0);
    }
    40%, 43% {
      transform: translate3d(0, -5px, 0);
    }
    70% {
      transform: translate3d(0, -3px, 0);
    }
    90% {
      transform: translate3d(0, -1px, 0);
    }
  }

  .animate-gentle-bounce:hover {
    animation: gentle-bounce 1s;
  }

  /* Enhanced card styling inspired by the reference design */
  .card {
    @apply bg-white/95 backdrop-blur-sm;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Main container styling for better layout */
  .main-container {
    @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Enhanced button styling */
  .btn-primary {
    @apply bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700;
    @apply text-white font-medium rounded-lg px-6 py-2.5;
    @apply shadow-lg hover:shadow-xl transition-all duration-200;
  }
}

/* Mobile-first toast positioning */
@media (max-width: 640px) {
  [data-radix-toast-viewport] {
    bottom: 0 !important;
    top: auto !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
  }
}